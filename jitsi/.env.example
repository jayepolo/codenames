# ============================================================================
# JITSI MEET CONFIGURATION
# ============================================================================
#
# IMPORTANT SETUP STEPS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Get your server's public IP: curl -4 ifconfig.me
# 3. Update DOCKER_HOST_ADDRESS and JVB_ADVERTISE_IPS with your public IP
# 4. Generate strong passwords using: openssl rand -hex 16
# 5. Ensure UDP port 10000 is open in your firewall
# 6. Run: docker compose up -d
#
# ============================================================================

# Security
#
# Set strong passwords for internal components
# Generate with: openssl rand -hex 16
JICOFO_COMPONENT_SECRET=changeme
JICOFO_AUTH_PASSWORD=changeme
JVB_AUTH_PASSWORD=changeme

# System time zone
TZ=America/New_York

# Public URL for the web service (required)
PUBLIC_URL=https://meet.pololabs.io

# IP address of the Docker host
# This is used for the JVB to advertise its address
# Set this to your server's public IP address
# IMPORTANT: Get your public IP with: curl -4 ifconfig.me
DOCKER_HOST_ADDRESS=YOUR_SERVER_PUBLIC_IP

# JVB advertise IPs (same as DOCKER_HOST_ADDRESS)
# This must be your server's public IP for WebRTC to work properly
JVB_ADVERTISE_IPS=YOUR_SERVER_PUBLIC_IP

#
# Basic configuration options
#

# Directory where all configuration will be stored
CONFIG=./config

# Exposed HTTP and HTTPS ports
HTTP_PORT=80
HTTPS_PORT=443

# System time zone
TZ=America/New_York

# Public URL for the web service (required)
PUBLIC_URL=https://meet.pololabs.io

#
# Let's Encrypt configuration
#

# Enable Let's Encrypt certificate generation
ENABLE_LETSENCRYPT=0

# Domain for which to generate the certificate
LETSENCRYPT_DOMAIN=meet.pololabs.io

# E-Mail for receiving important account notifications (mandatory)
LETSENCRYPT_EMAIL=your-email@example.com

# Use the staging server (for avoiding rate limits while testing)
#LETSENCRYPT_USE_STAGING=1

#
# HTTP configuration (Traefik handles HTTPS)
#

# Disable HTTPS in Jitsi (Traefik handles SSL)
DISABLE_HTTPS=1

# Enable HTTP->HTTPS redirect
ENABLE_HTTP_REDIRECT=0

#
# Authentication configuration (disabled for open access)
#

# Enable authentication
ENABLE_AUTH=0

# Enable guest access
ENABLE_GUESTS=1

# Select authentication type: internal, jwt, or ldap
AUTH_TYPE=internal

#
# XMPP configuration
#

# XMPP domain for the Jitsi Meet instance
XMPP_DOMAIN=meet.jitsi

# XMPP server for Prosody
XMPP_SERVER=prosody

# XMPP domain for authenticated users
XMPP_AUTH_DOMAIN=auth.meet.jitsi

# XMPP domain for internal components
XMPP_INTERNAL_MUC_DOMAIN=internal-muc.meet.jitsi

# XMPP domain for guest users
XMPP_GUEST_DOMAIN=guest.meet.jitsi

# XMPP domain for MUC (Multi-User Chat)
XMPP_MUC_DOMAIN=muc.meet.jitsi

# XMPP domain for recording service
XMPP_RECORDER_DOMAIN=recorder.meet.jitsi

# BOSH URL base
XMPP_BOSH_URL_BASE=http://prosody:5280

#
# Component users
#

# Jicofo user
JICOFO_AUTH_USER=focus

# JVB user
JVB_AUTH_USER=jvb

#
# JVB configuration
#

# JVB port for media
JVB_PORT=10000

# JVB STUN servers
JVB_STUN_SERVERS=meet-jit-si-turnrelay.jitsi.net:443

# Enable JVB APIs
JVB_ENABLE_APIS=rest,colibri

# Disable TCP harvester (use UDP only)
JVB_TCP_HARVESTER_DISABLED=true

#
# Recording
#

ENABLE_RECORDING=0

#
# Advanced options
#

# Enable lobby
ENABLE_LOBBY=0

# Enable websockets
ENABLE_XMPP_WEBSOCKET=1

# Enable transcriptions
ENABLE_TRANSCRIPTIONS=0
